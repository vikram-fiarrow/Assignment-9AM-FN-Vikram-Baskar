<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>India Portal — Magical Portal</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap');

  :root{
    --saffron:#ff9933;
    --green:#138808;
    --chakra:#0b3d91; /* deep blue for chakra */
    --bg:#050507;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    background:linear-gradient(180deg,var(--bg), #0b0b0d 60%);
    color:#fff;
    font-family:"Poppins",sans-serif;
    overflow-x:hidden;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    scroll-behavior:smooth;
  }

  /* FLAG WIPE (improved) */
  .flag-wipe{
    position:fixed;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    z-index:9999;
    pointer-events:none;
    background-image:
      linear-gradient(to right,
        var(--saffron) 0 33.333%,
        white 33.333% 66.666%,
        var(--green) 66.666% 100%);
    transition:left 1.3s cubic-bezier(0.86,0,0.07,1);
  }

  /* INTRO */
  .intro{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:18px;
    text-align:center;
    padding:40px 20px;
    position:relative;
  }

  h1{font-size:36px; margin:0; font-weight:800; letter-spacing:0.6px; text-shadow:0 6px 26px rgba(11,61,145,0.18);}
  p.lead{opacity:0.85; max-width:760px}

  .portal-btn{
    appearance:none;
    border:0;
    outline:0;
    background:linear-gradient(90deg,var(--saffron), #ffb84d);
    color:#000;
    padding:14px 34px;
    border-radius:44px;
    font-weight:700;
    cursor:pointer;
    box-shadow:0 8px 30px rgba(255,160,30,0.12);
    transition:transform .18s ease, box-shadow .18s ease;
    z-index:10;
  }
  .portal-btn:active{transform:scale(.98)}
  .portal-btn[disabled]{opacity:.65; cursor:not-allowed; transform:none}

  /* PORTAL GATE: ring + chakra center */
  .portal-wrap{
    position:relative;
    width:340px;
    height:340px;
    margin-top:30px;
  }

  .portal-gate{
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%) scale(0);
    width:280px;
    height:280px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:5;
    pointer-events:none;
  }

  /* outer ring with saffron->green gradient and glow */
  .portal-gate .ring{
    position:absolute;
    inset:0;
    border-radius:50%;
    padding:8px;
    background:
      conic-gradient(from 90deg, var(--saffron), #ffd38a 18%, rgba(255,255,255,0.08) 18%, rgba(255,255,255,0.08) 32%, var(--green) 32%, #8adf7a 64%, var(--saffron) 64%);
    -webkit-mask:
      radial-gradient(farthest-side, transparent calc(100% - 18px), black calc(100% - 17px));
    mask:
      radial-gradient(farthest-side, transparent calc(100% - 18px), black calc(100% - 17px));
    box-shadow:0 0 40px rgba(255,160,30,0.12), inset 0 0 18px rgba(255,255,255,0.03);
    transform-origin:center;
  }

  /* inner chakra disc */
  .portal-gate .core{
    width:170px;
    height:170px;
    border-radius:50%;
    background: radial-gradient(circle at 35% 30%, rgba(255,255,255,0.06), transparent 25%),
                linear-gradient(180deg, rgba(11,61,145,0.95), rgba(10,40,120,0.9));
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 12px 30px rgba(11,61,145,0.14), inset 0 0 40px rgba(255,255,255,0.02);
    position:relative;
    overflow:hidden;
  }

  /* Ashoka Chakra style spokes: use conic gradient overlay */
  .portal-gate .core::before{
    content:"";
    position:absolute;
    inset:0;
    border-radius:50%;
    background:
      conic-gradient(from 0deg, rgba(255,255,255,0.03) 0 6deg, transparent 6deg 12deg);
    mix-blend-mode:overlay;
    opacity:0.9;
    transform:rotate(0deg);
    animation: chakraSpin 6s linear infinite;
  }

  /* small chakra hub */
  .portal-gate .core .hub{
    width:34px;
    height:34px;
    border-radius:50%;
    background:rgba(255,255,255,0.95);
    box-shadow:0 0 8px rgba(255,255,255,0.25);
    z-index:6;
  }

  /* combined single animation: open -> scale in, then continue spin via ring rotation */
  @keyframes openAndSpin {
    0%{
      transform:translate(-50%,-50%) scale(0);
      opacity:0;
      filter:blur(8px);
    }
    40%{
      transform:translate(-50%,-50%) scale(1.05) rotate(0deg);
      opacity:1;
      filter:blur(0);
    }
    100%{
      transform:translate(-50%,-50%) scale(1.0) rotate(360deg);
      opacity:1;
      filter:blur(0);
    }
  }

  /* ring rotates slowly once opened; we animate the ring itself for continuous rotation */
  @keyframes ringSpin{
    from{ transform: rotate(0deg); }
    to{ transform: rotate(360deg); }
  }

  /* chakra spoke spin (slower) */
  @keyframes chakraSpin{
    from{ transform: rotate(0deg) }
    to{ transform: rotate(-360deg) }
  }

  /* Particle base style */
  .particle{
    position:fixed;
    width:10px;
    height:10px;
    border-radius:50%;
    pointer-events:none;
    will-change: transform, opacity;
    z-index:999;
    mix-blend-mode:screen;
    box-shadow:0 0 10px rgba(255,255,255,0.06);
    opacity:0.95;
  }

  /* ABOUT SECTION */
  .section{
    padding:90px 18px;
    background:#0b0b0d;
    text-align:center;
  }

  .card{
    width:92%;
    max-width:740px;
    margin:18px auto;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:24px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 8px 40px rgba(11,61,145,0.06);
    text-align:left;
  }

  /* small responsive tweaks */
  @media (max-width:520px){
    .portal-wrap{ width:260px; height:260px }
    .portal-gate{ width:230px; height:230px }
    .portal-gate .core{ width:140px; height:140px }
  }
</style>
</head>
<body>

<div class="flag-wipe" id="flag"></div>

<section class="intro" aria-labelledby="title">
  <h1 id="title">Welcome to the India Portal</h1>
  <p class="lead">A magical portal celebrating India's colors — saffron, white, and green — with a chakra heart. Click to enter.</p>

  <div class="portal-wrap" aria-hidden="true">
    <div class="portal-gate" id="portalGate" role="img" aria-label="Magical India portal">
      <div class="ring" id="ring"></div>
      <div class="core">
        <div class="hub" aria-hidden="true"></div>
      </div>
    </div>
  </div>

  <button class="portal-btn" id="enterBtn">Enter Portal</button>
</section>

<section class="section" id="indiaInfo" aria-labelledby="aboutTitle">
  <h2 id="aboutTitle" style="color:var(--saffron); font-weight:800; margin-bottom:22px;">About Incredible India</h2>

  <div class="card">
    <h3 style="margin-bottom:8px">Ancient Heritage</h3>
    India is home to ancient traditions, colorful festivals, and iconic monuments like the Taj Mahal. A blend of spirituality and modern innovation.
  </div>

  <div class="card">
    <h3 style="margin-bottom:8px">Geographical Diversity</h3>
    From the snow-covered Himalayas to tropical beaches, India offers a breathtaking variety of landscapes.
  </div>

  <div class="card">
    <h3 style="margin-bottom:8px">Global Influence</h3>
    Indian cuisine, yoga, cinema and languages make it one of the most influential cultures on Earth.
  </div>
</section>

<!-- Sound (user click will trigger) -->
<audio id="portalSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_22e8cdda7a.mp3?filename=whoosh-6316.mp3" preload="auto"></audio>

<script>
(function(){
  const portal = document.getElementById('portalGate');
  const ring = document.getElementById('ring');
  const btn = document.getElementById('enterBtn');
  const flag = document.getElementById('flag');
  const infoSection = document.getElementById('indiaInfo');
  const sound = document.getElementById('portalSound');

  // CONFIG
  const ANIM_TOTAL_MS = 3000; // 3s total for opening; ring keeps spinning after
  const PARTICLE_COUNT = 36;  // number of particles
  const PARTICLE_LIFE = 1400; // ms

  // Utility: random in range
  const rand = (min,max)=> Math.random()*(max-min)+min;

  // Create a particle element with tricolor palette
  function makeParticle(x,y,idx){
    const p = document.createElement('div');
    p.className = 'particle';
    // tricolor distribution saffron / white-ish / green
    const palette = ['#ff9933', 'rgba(255,255,255,0.95)', '#138808'];
    const color = palette[idx % palette.length];
    p.style.background = color;
    // start position (centered)
    p.style.left = (x - 6) + 'px';
    p.style.top = (y - 6) + 'px';
    // initial scale
    p.style.transform = `translate3d(0,0,0) scale(${rand(0.6,1.2)})`;
    document.body.appendChild(p);

    // animate with JS (easier to coordinate than purely CSS here)
    // random radial movement
    const angle = rand(0, Math.PI*2);
    const distance = rand(80, 240);
    const dx = Math.cos(angle) * distance;
    const dy = Math.sin(angle) * distance * (Math.random() > .5 ? 1 : 0.6);

    // fade + fly out
    requestAnimationFrame(()=>{
      p.style.transition = `transform ${PARTICLE_LIFE}ms cubic-bezier(.2,.9,.2,1), opacity ${PARTICLE_LIFE}ms ease-out`;
      p.style.transform = `translate3d(${dx}px, ${dy}px, 0) scale(${rand(.4, .9)})`;
      p.style.opacity = '0';
    });

    // cleanup
    setTimeout(()=> p.remove(), PARTICLE_LIFE + 50);
  }

  // position for particles: center of portal element (viewport coordinates)
  function getPortalCenter(){
    const rect = portal.getBoundingClientRect();
    return { x: rect.left + rect.width/2, y: rect.top + rect.height/2 };
  }

  // Open portal: play sound, animate portal, create particles, flag wipe, scroll
  function openPortal(){
    // Disable button while animating
    btn.disabled = true;

    // play sound if possible
    sound.currentTime = 0;
    sound.play().catch(()=>{/* ignore autoplay errors */});

    // start opening animation (single combined animation)
    // We set animation on portal element; ring rotation will be added after open
    portal.style.animation = `openAndSpin ${ANIM_TOTAL_MS}ms ease forwards`;
    // small extra: ring slow continuous spin (apply after open start)
    // Use timeout to start continuous ring spin (subtle)
    setTimeout(() => {
      ring.style.animation = `ringSpin 18s linear infinite`;
      // also nudge ring 3D transform origin for nicer effect
      ring.style.transformOrigin = '50% 50%';
    }, 450);

    // create particle burst from center
    const center = getPortalCenter();
    for(let i=0;i<PARTICLE_COUNT;i++){
      // stagger slightly for nicer look
      setTimeout(()=> makeParticle(center.x, center.y, i), i * 9);
    }

    // FLAG WIPE: starts shortly after initial burst
    setTimeout(()=> {
      flag.style.left = '0';
    }, 450);

    // After flag animation (1.3s) + a small buffer, scroll and reset flag
    const flagTransitionMs = 1300;
    setTimeout(()=> {
      // scroll to section
      infoSection.scrollIntoView({ behavior: 'smooth' });

      // reset flag to left off-screen (prepare for potential next run)
      setTimeout(()=> {
        flag.style.left = '-100%';
      }, flagTransitionMs + 120); // give a little time so user sees it finished

      // allow interactions after main animations are done
      setTimeout(()=> {
        btn.disabled = false;
      }, ANIM_TOTAL_MS + 200);
    }, 800);

  }

  // Hook up button click
  btn.addEventListener('click', openPortal);

  // Accessibility: allow Enter/Space activation when focused
  btn.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' '){
      e.preventDefault();
      btn.click();
    }
  });

  // expose for debugging (optional)
  window._portalDebug = { openPortal, getPortalCenter };

})();
</script>
</body>
</html>
